<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="main.css">
</head>

<body>
    <div class="card-group container">
        <div class="card">
            <img src="https://via.placeholder.com/600">
            <div class="card-body">
                <h5 class="card-title">Card title</h5>
                <p class="card-price">가격 : 70000</p>
                <button class="btn btn-danger">주문하기</button>
            </div>
        </div>
        <div class="card">
            <img src="https://via.placeholder.com/600">
            <div class="card-body">
                <h5 class="card-title">Card title</h5>
                <p class="card-price">가격 : 70000</p>
                <button class="btn btn-danger">주문하기</button>
            </div>
        </div>
        <div class="card">
            <img src="https://via.placeholder.com/600">
            <div class="card-body">
                <h5 class="card-title">Card title</h5>
                <p class="card-price">가격 : 70000</p>
                <button class="btn btn-danger">주문하기</button>
            </div>
        </div>
    </div>
    <form class="container my-5 form-group">
        <p>상품선택</p>
        <select class="form-select mt-2" id="product" onchange="changeOption()">
            <option>--선택하세요--</option>
            <option>모자</option>
            <option>셔츠</option>
            <option>바지</option>
        </select>
        <select class="hide form-select mt-2" id="option">
        </select>

        <div id="test"></div>
    </form>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous">
    </script>
    <script src="https://code.jquery.com/jquery-3.7.1.js"
        integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
        crossorigin="anonymous">
    </script>
</body>

<script>
    var products = [
        { id: 0, price: 70000, title: 'Blossom Dress' },
        { id: 1, price: 50000, title: 'Springfield Shirt' },
        { id: 2, price: 60000, title: 'Black Monastery' }
    ];
    const cardBody = document.querySelectorAll('.card-body')
    for (let i = 0; i < cardBody.length; i++) {
        cardBody[i].querySelector('.card-title').innerHTML = products[i].title
        cardBody[i].querySelector('.card-price').innerHTML = products[i].price
    }

    // $('.form-select').eq(0).val
    // $('.form-select').eq(1).removeClass('hide');

    const changeOption = () => {
        const product = document.querySelector('#product')
        const option = document.querySelector('#option')
        const hats = ['S', 'M', 'L']
        const shirts = [95, 100, 105]
        const pants = [26, 28, 30]

        if (product.value === '모자') {
            option.innerHTML = ''
            hats.forEach(function(a){
                option.insertAdjacentHTML('beforeend', `<option>${a}</option>`)
            })
            option.classList.remove('hide')
            option.classList.add('show')
        } else if (product.value === '셔츠') {
            option.innerHTML = ''
            shirts.forEach(function(a){
                option.insertAdjacentHTML('beforeend', `<option>${a}</option>`)
            })
            option.classList.remove('hide')
            option.classList.add('show')
        } else if (product.value === '바지') {
            option.innerHTML = ''
            pants.forEach(function(a){
                option.insertAdjacentHTML('beforeend', `<option>${a}</option>`)
            })
            option.classList.remove('hide')
            option.classList.add('show')
        } else {
            option.classList.add('hide')
            option.classList.remove('show')
        }
    }
    var a = document.createElement('p')
    a.innerHTML = '응애'
    document.querySelector('#test').appendChild(a)

    // var template = '<p>hi<p>'
    // document.querySelector('#test').insertAdjacentHTML('beforeend', template)
    // $('#test').html(template)

    // ajax 통신 관련
    $.get('https://codingapple1.github.io/price.json').done(function(data){
        console.log(data.price)
    })
</script>

</html>