<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>modal test</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <link rel="stylesheet" href="main.css">
</head>

<body>
  <div class="black-bg">
    <div class="white-bg">
      <h4>로그인하세요</h4>
      <form action="success.html" onsubmit="return loginSubmit()">
        <div class="my-3">
          <input type="text" class="form-control" id="id_input">
         </div>
         <div class="my-3">
           <input type="password" class="form-control" id="pw_input" autocomplete="off">
         </div>
         <button type="submit" class="btn btn-primary" id="login_submit">전송</button>
         <button type="button" class="btn btn-danger" id="close">닫기</button>
      </form> 
    </div>
  </div>

  <nav class="navbar navbar-light bg-light">
    <div class="container-fluid">
      <span class="navbar-brand">Navbar</span>
      <span class="badge bg-dark" id="dark-btn">dark</span>
      <button class="navbar-toggler" type="button">
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>

  <ul class="list-group">
    <li class="list-group-item">An item</li>
    <li class="list-group-item">A second item</li>
    <li class="list-group-item">A third item</li>
    <li class="list-group-item">A fourth item</li>
    <li class="list-group-item">And a fifth one</li>
  </ul>
  <div class="login-bg">
    <button class="modal-btn" id="openBtn">로그인?</button>
  </div>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"
    integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>
</body>
<script>
  const modal = $('.black-bg');
  const navbarToggler = $('.navbar-toggler');

  // 모달관련 js
  $('#openBtn').on('click', function () {
    modal.addClass('show-modal');
  })

  $('#close').on('click', function () {
    let isModalOpen = modal.hasClass('show-modal');
    if (isModalOpen) {
      modal.removeClass('show-modal');
    } else {
      modal.addClass('show-modal');
    }
  })

  // navbar관련 js
  navbarToggler.on('click', function () {
    document.querySelector('.list-group').classList.toggle('list-group-show');
  })

  // 이렇게도 가능
  // $('form').on('submit' function() {})
  const loginSubmit = () => {
    const idInput = document.querySelector('#id_input').value;
    const pwInput = document.querySelector('#pw_input').value;
    if(idInput.trim() === '' || pwInput.trim()===''){
      alert('id혹은 pw칸이 비어있습니다');
      return false;
    }
    if (pwInput.length < 6){
      alert('pw는 6글자 이상이어야 합니다')
      return false;
    }
    return true;
  };

  // input event
  //document.querySelector('#id_input').addEventListener('input', function(){
  //  console.log('입력중')
  //})

  // dark 버튼 관련 코드
  let clicked = 0
  document.querySelector('#dark-btn').addEventListener('click', function(){
    clicked += 1
    console.log(clicked)
    if (clicked%2==1){
      document.querySelector('#dark-btn').innerHTML = 'light'
      document.querySelector('body').classList.add('dark')
    }else {
      document.querySelector('#dark-btn').innerHTML = 'dark'
      document.querySelector('body').classList.remove('dark')
    }
  })
</script>

</html>